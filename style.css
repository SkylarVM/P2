/* =========================================
   Penguin Companion â€” XP Planner
   Part 2: style.css
   ========================================= */

/* ===== Root Theme ===== */
:root {
  --bg1:#0f172a;
  --bg2:#1e293b;
  --panel:#111827;
  --panel2:#1e293b;
  --text:#f1f5f9;
  --muted:#94a3b8;
  --brand:#3b82f6;
  --accent:#60a5fa;
  --ok:#22c55e;
  --warn:#f59e0b;
  --danger:#ef4444;
}

/* ===== Reset & Base ===== */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;font-family:'Poppins',system-ui,Segoe UI,Roboto,sans-serif;background:linear-gradient(135deg,var(--bg1),var(--bg2));color:var(--text);overflow-x:hidden}
h1,h2,h3,h4{font-weight:600;margin-bottom:6px}
ul{list-style:none}
button,input,select{font-family:inherit;font-size:14px}

/* ===== Utility ===== */
.muted{color:var(--muted)}
.small{font-size:13px}
.bold{font-weight:600}
.center{text-align:center}
.hidden{display:none!important}
.wide{grid-column:span 2}
.row{display:flex;align-items:center;gap:8px}
.row.wrap{flex-wrap:wrap}
.row.compact>*{margin-right:6px}
.block{display:block;margin-bottom:10px}
.btn{background:var(--brand);color:#fff;border:none;border-radius:8px;padding:6px 12px;cursor:pointer;transition:.2s}
.btn:hover{filter:brightness(1.1)}
.btn.ghost{background:transparent;border:1px solid #334155;color:var(--text)}
.btn.ghost:hover{background:#1e293b}
.btn.success{background:var(--ok)}
.btn.danger{background:var(--danger)}
.btn.file input{display:none}

/* ===== Top Bar ===== */
.topbar{display:flex;align-items:center;justify-content:space-between;background:var(--panel);padding:10px 18px;border-radius:12px;margin:10px auto;max-width:1400px;box-shadow:0 4px 8px rgba(0,0,0,.3)}
.brand{display:flex;align-items:center;gap:8px}
.brand h1{font-size:18px}
.progress-wrap{text-align:center}
.xpbar{width:250px;height:10px;background:#1e293b;border-radius:999px;overflow:hidden}
#xpBar{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),var(--brand));transition:width .4s}
.top-actions{display:flex;align-items:center;gap:8px}

/* ===== Layout Grid ===== */
main.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:18px;max-width:1400px;margin:0 auto 60px}

/* ===== Cards ===== */
.card{background:var(--panel);border-radius:14px;padding:14px;box-shadow:0 4px 10px rgba(0,0,0,.3)}
.card h2{margin-bottom:8px;font-size:17px}
.list{margin-top:6px;max-height:260px;overflow-y:auto}
.list li{background:var(--panel2);border-radius:10px;margin:5px 0;padding:8px 10px;display:flex;justify-content:space-between;align-items:center}
.list.slim li{padding:6px 8px;font-size:13px}

/* ===== Timeline ===== */
.timeline{position:relative;height:220px;background:var(--panel2);border-radius:10px;margin:10px 0;overflow-y:auto;padding:6px}
.timeline::before{content:"";position:absolute;left:50%;width:2px;height:100%;background:#334155;transform:translateX(-50%)}
.timeline .block{position:relative;background:var(--brand);color:#fff;border-radius:8px;padding:4px 8px;margin:6px auto;width:70%;cursor:pointer;text-align:center}
.timeline .block:hover{filter:brightness(1.2)}
#timelineNow{position:absolute;left:calc(50% - 10px);width:20px;height:20px;text-align:center;top:0;font-size:16px;animation:bounce 2s infinite ease-in-out}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}

/* ===== Penguin ===== */
.penguin{--p:#3b82f6;--accent:#2563eb;--white:#f8fafc;position:relative;width:110px;height:120px;filter:drop-shadow(0 8px 12px rgba(0,0,0,.3))}
.penguin .body{position:absolute;inset:0;border-radius:55% 55% 50% 50%/60% 60% 40% 40%;background:radial-gradient(circle at 50% 35%,var(--white) 0 45%,var(--p) 46% 100%)}
.penguin .wing{position:absolute;top:45px;width:34px;height:54px;background:linear-gradient(180deg,var(--p),var(--accent));border-radius:40px}
.penguin .wing.left{left:-6px;transform:rotate(-12deg);transform-origin:top right}
.penguin .wing.right{right:-6px;transform:rotate(12deg);transform-origin:top left}
.penguin .eye{position:absolute;top:36px;width:14px;height:14px;border-radius:50%;background:#0f172a;box-shadow:0 0 0 3px var(--white)}
.penguin .eye.left{left:34px}.penguin .eye.right{right:34px}
.penguin .beak{position:absolute;top:58px;left:50%;transform:translateX(-50%);width:24px;height:14px;border-radius:0 0 14px 14px;background:linear-gradient(180deg,#f59e0b,#d97706)}
.penguin.tiny{transform:scale(.5);transform-origin:left bottom}
.penguin.large{width:150px;height:160px}

/* Accessories */
.acc{position:absolute;pointer-events:none}
.acc.scarf{bottom:38px;left:50%;transform:translateX(-50%);width:84px;height:18px;background:linear-gradient(90deg,#ef4444,#f97316);border-radius:14px}
.acc.scarf:after{content:"";position:absolute;left:8px;top:14px;width:16px;height:36px;background:linear-gradient(180deg,#ef4444,#f97316);border-radius:10px}
.acc.glasses:before,.acc.glasses:after{content:"";position:absolute;top:34px;width:22px;height:16px;border:2px solid #94a3b8;border-radius:4px}
.acc.glasses:before{left:24px}.acc.glasses:after{right:24px}
.acc.headphones{top:18px;left:50%;transform:translateX(-50%);width:86px;height:22px;border-radius:22px;background:linear-gradient(90deg,#475569,#64748b)}
.acc.headphones:before,.acc.headphones:after{content:"";position:absolute;top:8px;width:16px;height:28px;border-radius:12px;background:#64748b}
.acc.headphones:before{left:-6px}.acc.headphones:after{right:-6px}

/* Avatar Builder */
.avatar-wrap{display:flex;align-items:center;gap:12px;margin-bottom:8px}
.avatar-text .title{font-weight:600;margin-bottom:2px}
.chips{display:flex;gap:6px;margin:6px 0}
.chip{border:1px solid #334155;border-radius:999px;padding:6px 10px;background:#1e293b;cursor:pointer;color:#fff}
.chip:hover{border-color:var(--brand)}
.chip.active{border-color:var(--brand);box-shadow:0 0 4px var(--brand)}

/* ===== Shop ===== */
.shop-columns{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px}
.shop{display:flex;flex-wrap:wrap;gap:8px;padding:6px 0}
.shop-item{width:42px;height:42px;display:flex;align-items:center;justify-content:center;background:#1e293b;border-radius:10px;cursor:pointer;transition:.2s}
.shop-item:hover{filter:brightness(1.2)}
.shop-item.owned{border:2px solid var(--brand)}

/* ===== Pomodoro Overlay ===== */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.9);display:flex;align-items:center;justify-content:center;z-index:40}
.pomo{background:var(--panel2);border-radius:16px;padding:20px;width:340px;text-align:center;box-shadow:0 0 20px rgba(0,0,0,.6)}
.pomo-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.clock{font-size:46px;margin:8px 0}
.clock.big{font-size:60px}
.pomo-stage{margin:10px 0}

/* ===== Call Window ===== */
.call{position:fixed;right:20px;bottom:20px;width:320px;background:var(--panel2);border-radius:16px;border:1px solid #334155;box-shadow:0 10px 20px rgba(0,0,0,.4);display:flex;flex-direction:column;z-index:45}
.call-head{display:flex;justify-content:space-between;align-items:center;padding:8px 10px;border-bottom:1px solid #1f2937}
.call-body{padding:10px;text-align:center}

/* ===== Toast ===== */
.toast{position:fixed;right:20px;bottom:20px;display:flex;align-items:center;gap:10px;background:var(--panel);border:1px solid #334155;border-radius:14px;padding:10px 12px;box-shadow:0 8px 20px rgba(0,0,0,.4);z-index:60}

/* ===== Modals ===== */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:50}
.modal-card{background:var(--panel);padding:18px;border-radius:14px;max-width:600px;width:90%;box-shadow:0 8px 20px rgba(0,0,0,.5)}
.modal-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.modal-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px}

/* ===== Race Lobby & Room ===== */
.race-choose{display:flex;gap:20px;justify-content:center;flex-wrap:wrap}
.race-box{background:var(--panel2);padding:14px;border-radius:12px;width:250px;text-align:center;box-shadow:0 0 10px rgba(0,0,0,.3)}
.race-room{background:var(--panel);border-radius:12px;padding:20px;width:90%;max-width:1000px}
.race-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
.race-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px}
.race-left{background:var(--panel2);padding:14px;border-radius:10px;text-align:center}
.race-right{background:var(--panel2);padding:14px;border-radius:10px}
.race-right ul{max-height:220px;overflow-y:auto}

/* ===== Game Modal (Mini-Game) ===== */
.modal-card.game{max-width:700px;width:95%}
.game-area{background:#000;border-radius:8px;min-height:300px;color:#fff;display:flex;align-items:center;justify-content:center;font-size:20px}

/* ===== Animations ===== */
@keyframes floatUp{
  0%{opacity:1;transform:translateY(0)}
  100%{opacity:0;transform:translateY(-40px)}
}
.xp-float{position:absolute;color:#facc15;font-weight:600;animation:floatUp 1s ease forwards}
